<extension>
    <modules>
        <module>
            <id>Email Documents</id>
            <description>Apply to all document libraries</description>
            <configurations>
                <config evaluator="string-compare" condition="email-documents">
                    Â <forms>
                        <form>
                            <field-visibility>
                                <show id="to"/>
                                <show id="from" />
                                <show id="subject"/>
                                <show id="body_text"/>
                            </field-visibility>
                            <appearance>
                                <field id="to" label-id="email-documents.field.from"/>
                                <field id="to" label-id="email-documents.field.to"/>
                                <field id="subject" label-id="email-documents.field.subject"/>
                                <field id="body_text" label-id="email-documents.field.body_text">
                                    <control
                                        template="/org/alfresco/components/form/controls/textarea.ftl" />
                                </field>
                            </appearance>
                        </form>
                    </forms>
                </config>

                <!-- Custom DocLibActions config section -->
                <config evaluator="string-compare" condition="DocLibActions">
                    <actions>
                        <action id="email-documents" type="javascript" label="actions.email-documents" icon="cyberconnect">
                            <param name="function">onActionFormDialog</param>
                            <param name="itemKind">action</param>
                            <param name="itemId">email-documents</param>
                            <param name="destination">{node.nodeRef}</param>
                            <param name="successMessage">message.email-document.success</param>
                            <param name="failureMessage">message.email-document.failure</param>
                        </action>
                    </actions>
                    <actionGroups>
                        <actionGroup id="document-browse">
                            <action index="300" id="email-documents" />
                        </actionGroup>
                    </actionGroups>
                </config> 
    
                <config evaluator="string-compare" condition="DocLibCustom">
                    <dependencies>
                        <js src="components/documentlibrary/email-documents.js" />
                    </dependencies>
                </config>    
    
            </configurations>
        </module>
    </modules>
</extension> 
